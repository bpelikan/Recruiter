@using Microsoft.AspNetCore.Mvc.Localization
@model IEnumerable<ApplicationUser>

@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["User Management"];
    ViewData["User Management"] = Localizer["User Management"];
    ViewData["No User Accounts"] = Localizer["No User Accounts"];
    ViewData["User ID"] = Localizer["User ID"];
    ViewData["User name"] = Localizer["User name"];
    ViewData["Email"] = Localizer["Email"];
    ViewData["Phone number"] = Localizer["Phone number"];
    ViewData["Actions"] = Localizer["Actions"];
    ViewData["Do you really want to delete this user?"] = Localizer["Do you really want to delete this user?"];
    ViewData["Delete"] = Localizer["Delete"];
    ViewData["Add new user"] = Localizer["Add new user"];
    ViewData["Edit"] = Localizer["Edit"];
}

<h2>@ViewData["User Management"]</h2>


@if (!Model.Any())
{
    <tr><td colspan="3" class="text-center">@ViewData["No User Accounts"]</td></tr>
}
else
{
    <table class="table table-condensed table-bordered" header header-content="User Management">
        <tr>
            <th>@ViewData["User ID"]</th>
            <th>@ViewData["User name"]</th>
            <th>@ViewData["Email"]</th>
            <th>@ViewData["Phone number"]</th>
            <th>@ViewData["Actions"]</th>
        </tr>

        @foreach (ApplicationUser user in Model)
        {
            <tr>
                <td>@user.Id</td>
                <td>@user.FirstAndLastName</td>
                <td>@user.Email</td>
                <td>@user.PhoneNumber</td>
                <td>
                    <form asp-action="DeleteUser" asp-route-id="@user.Id" method="post">
                        <a class="btn btn-sm btn-primary" asp-action="EditUser" asp-route-id="@user.Id">@ViewData["Edit"]</a>
                        <button type="submit" onclick="return confirm(@ViewData["Do you really want to delete this user?"]);" class="btn btn-sm btn-danger">
                            @ViewData["Delete"]
                        </button>
                    </form>
                </td>
            </tr>
        }
    </table>
}

<p>
    <a class="btn btn-primary" asp-action="AddUser">@ViewData["Add new user"]</a>
</p>

